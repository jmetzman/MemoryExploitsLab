#include <stdio.h>
// Compiled using:
// gcc -O0 -g Unsafe-Memory-Accesses.c -o Unsafe-Memory-Accesses
//

// Run using:
// ./Unsafe-Memory-Accesses

int main() {
  int idx;
  char arr1[16];
  char arr2[16];
  // initializing arr1
  for (idx = 0; idx < 16; idx++)
    arr1[idx] = 'a';

  // initializing arr2
  for (idx = 0; idx < 16; idx++)
    arr2[idx] = 'b';

  puts("printing arr1");

  for (idx = 0; idx < 16; idx++)
    putchar(arr1[idx]);

  puts("\nAccessing arr2 thorugh arr1");

  for (; idx < 32; idx++)
    putchar(arr1[idx]);

  puts("\nPrinting uninitialized memory as hex");
  for (; idx < 34; idx++)
    printf("%8x ", arr1[idx]);

  char* uninitialized = (char*) 0xffffffffffff;
  puts("\nCrashing");
  printf("%0x", uninitialized[idx]);

  puts("");

  return 0;
}
